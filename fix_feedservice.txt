  const distance = userLocation
    ? calculateDistance(
        userLocation.lat,
        userLocation.lng,
        location.location.lat,
        location.location.lng
      )
    : null;

  // Use fallback images based on cuisine type
  // Future: Fetch actual images from Google Places API or store image URLs in JSON
  const imageUrl = location.imageUrl || generateRestaurantFallbackImage(location.categoryName);

  return {
    id: `restaurant-${location.placeId}`,
    type: 'restaurant',
    saveCategory: 'Places',
    name: location.title,
    cuisine: location.categoryName || 'Restaurant',
    priceRange: location.price || '$$',
    rating: location.totalScore || 0,
    reviewCount: location.reviewsCount || 0,
    location: location.neighborhood
      ? `${location.neighborhood}, ${location.city}`
      : location.city,
    distance: distance ? `${distance.toFixed(1)} km away` : 'Distance unavailable',
    imageUrl,
    description: location.description || `${location.categoryName} in ${location.city}`,
    tags: location.categories?.slice(0, 3) || [],
  };
