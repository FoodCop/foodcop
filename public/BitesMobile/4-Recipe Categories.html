<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categories</title>
    <script src='https://cdn.tailwindcss.com'></script>
            <script>
            tailwind.config = {
                        theme: {
                            extend: {
                                colors: {
                                    border: "var(--border)",
                                    input: "var(--input)",
                                    ring: "var(--ring)",
                                    background: "var(--background)",
                                    foreground: "var(--foreground)",
                                    primary: {
                                        DEFAULT: "var(--primary)",
                                        foreground: "var(--primary-foreground)",
                                    },
                                    secondary: {
                                        DEFAULT: "var(--secondary)",
                                        foreground: "var(--secondary-foreground)",
                                    },
                                    destructive: {
                                        DEFAULT: "var(--destructive)",
                                        foreground: "var(--destructive-foreground)",
                                    },
                                    muted: {
                                        DEFAULT: "var(--muted)",
                                        foreground: "var(--muted-foreground)",
                                    },
                                    accent: {
                                        DEFAULT: "var(--accent)",
                                        foreground: "var(--accent-foreground)",
                                    },
                                    popover: {
                                        DEFAULT: "var(--popover)",
                                        foreground: "var(--popover-foreground)",
                                    },
                                    card: {
                                        DEFAULT: "var(--card)",
                                        foreground: "var(--card-foreground)",
                                    },
                                    sidebar: {
                                        DEFAULT: "var(--sidebar)",
                                        foreground: "var(--sidebar-foreground)",
                                        primary: "var(--sidebar-primary)",
                                        "primary-foreground": "var(--sidebar-primary-foreground)",
                                        accent: "var(--sidebar-accent)",
                                        "accent-foreground": "var(--sidebar-accent-foreground)",
                                        border: "var(--sidebar-border)",
                                        ring: "var(--sidebar-ring)",
                                    },
                                    chart: {
                                        1: "var(--chart-1)",
                                        2: "var(--chart-2)",
                                        3: "var(--chart-3)",
                                        4: "var(--chart-4)",
                                        5: "var(--chart-5)",
                                    },
                                },
                                borderRadius: {
                                    lg: "var(--radius)",
                                    md: "calc(var(--radius) - 2px)",
                                    sm: "calc(var(--radius) - 4px)",
                                },
                                fontFamily: {
                                    sans: ["var(--font-sans)"],
                                    serif: ["var(--font-serif)"],
                                    mono: ["var(--font-mono)"],
                                },
                                boxShadow: {
                                    '2xs': 'var(--shadow-2xs)',
                                    'xs': 'var(--shadow-xs)',
                                    'sm': 'var(--shadow-sm)',
                                    'DEFAULT': 'var(--shadow)',
                                    'md': 'var(--shadow-md)',
                                    'lg': 'var(--shadow-lg)',
                                    'xl': 'var(--shadow-xl)',
                                    '2xl': 'var(--shadow-2xl)',
                                },
                            },
                        }
                    }
            </script>
            
    <script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                },
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                fontFamily: {
                    sans: ["var(--font-sans)"],
                    serif: ["var(--font-serif)"],
                    mono: ["var(--font-mono)"],
                },
                boxShadow: {
                    'DEFAULT': 'var(--shadow)',
                },
            },
        }
    }
    </script>
    <script src="https://cdn.plot.ly/plotly-3.1.1.min.js"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --background: #FAFAFA;
            --foreground: #0f172a;
            --card: #ffffff;
            --card-foreground: #0f172a;
            --primary: #FFD500;
            --primary-foreground: #8A8A8A;
            --secondary: #64748b;
            --secondary-foreground: #ffffff;
            --muted: #FAFAFA;
            --muted-foreground: #0f172a;
            --accent: #f59e0b;
            --accent-foreground: #ffffff;
            --destructive: #ef4444;
            --destructive-foreground: #ffffff;
            --border: #EEE;
            --input: #FFFFFF;
            --ring: #94a3b8;
            --font-sans: Be Vietnam Pro;
            --font-serif: Georgia, serif;
            --font-mono: JetBrains Mono, monospace;
            --radius: 10px;
            --shadow: -2px 4px 12px 4px rgba(51,51,51,0.05);
        }
        ::-webkit-scrollbar { display: none;}
        body { font-family: var(--font-sans), sans-serif; }
        .recipe-popup { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.5); 
            z-index: 1000; 
            overflow-y: auto;
        }
        .recipe-popup.active { display: flex; }
    </style>
</head>
<body class="bg-background">
    
    <header id="header" class="sticky top-0 bg-card border-b border-border z-50">
        <div class="px-4 py-3 flex items-center justify-between">
            <button onclick="window.history.back()" class="w-10 h-10 rounded-full bg-muted flex items-center justify-center">
                <i class="fa-solid fa-arrow-left text-foreground"></i>
            </button>
            <h1 class="text-xl font-bold text-foreground">Categories</h1>
            <button class="w-10 h-10 rounded-full bg-muted flex items-center justify-center">
                <i class="fa-regular fa-bell text-foreground"></i>
            </button>
        </div>
    </header>

    <main id="main-content" class="pb-20">
        
        <section id="search-section" class="px-4 py-4 bg-card border-b border-border">
            <div class="relative">
                <i class="fa-solid fa-search absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground"></i>
                <input type="text" placeholder="Search categories..." class="w-full pl-12 pr-4 py-3.5 rounded-xl bg-input border border-border text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring">
            </div>
        </section>

        <section id="popular-categories" class="px-4 py-6">
            <h2 class="text-lg font-bold text-foreground mb-4">Popular Categories</h2>
            <div class="grid grid-cols-2 gap-3">
                <div id="category-breakfast" onclick="openCategory('Breakfast')" class="bg-card rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-32 overflow-hidden bg-gradient-to-br from-amber-100 to-orange-100 flex items-center justify-center">
                        <i class="fa-solid fa-bowl-food text-accent text-5xl"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Breakfast</h3>
                        <p class="text-xs text-muted-foreground mb-3">248 recipes</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Quick</span>
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Easy</span>
                        </div>
                    </div>
                </div>

                <div id="category-lunch" onclick="openCategory('Lunch')" class="bg-card rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-32 overflow-hidden bg-gradient-to-br from-red-100 to-pink-100 flex items-center justify-center">
                        <i class="fa-solid fa-burger text-destructive text-5xl"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Lunch</h3>
                        <p class="text-xs text-muted-foreground mb-3">312 recipes</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Hearty</span>
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Filling</span>
                        </div>
                    </div>
                </div>

                <div id="category-dinner" onclick="openCategory('Dinner')" class="bg-card rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-32 overflow-hidden bg-gradient-to-br from-orange-100 to-amber-100 flex items-center justify-center">
                        <i class="fa-solid fa-pizza-slice text-accent text-5xl"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Dinner</h3>
                        <p class="text-xs text-muted-foreground mb-3">425 recipes</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Comfort</span>
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Family</span>
                        </div>
                    </div>
                </div>

                <div id="category-dessert" onclick="openCategory('Dessert')" class="bg-card rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-32 overflow-hidden bg-gradient-to-br from-yellow-100 to-amber-100 flex items-center justify-center">
                        <i class="fa-solid fa-ice-cream text-primary text-5xl"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Dessert</h3>
                        <p class="text-xs text-muted-foreground mb-3">187 recipes</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Sweet</span>
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Treats</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="dietary-categories" class="px-4 py-6 bg-card">
            <h2 class="text-lg font-bold text-foreground mb-4">Dietary Preferences</h2>
            <div class="grid grid-cols-2 gap-3">
                <div id="category-vegan" onclick="openCategory('Vegan')" class="bg-background rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-32 overflow-hidden bg-gradient-to-br from-green-100 to-emerald-100 flex items-center justify-center">
                        <i class="fa-solid fa-leaf text-green-500 text-5xl"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Vegan</h3>
                        <p class="text-xs text-muted-foreground mb-3">156 recipes</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Plant-Based</span>
                        </div>
                    </div>
                </div>

                <div id="category-vegetarian" onclick="openCategory('Vegetarian')" class="bg-background rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-32 overflow-hidden bg-gradient-to-br from-lime-100 to-green-100 flex items-center justify-center">
                        <i class="fa-solid fa-carrot text-orange-500 text-5xl"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Vegetarian</h3>
                        <p class="text-xs text-muted-foreground mb-3">223 recipes</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Veggie</span>
                        </div>
                    </div>
                </div>

                <div id="category-keto" onclick="openCategory('Keto')" class="bg-background rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-32 overflow-hidden bg-gradient-to-br from-red-100 to-orange-100 flex items-center justify-center">
                        <i class="fa-solid fa-drumstick-bite text-destructive text-5xl"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Keto</h3>
                        <p class="text-xs text-muted-foreground mb-3">189 recipes</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Low-Carb</span>
                        </div>
                    </div>
                </div>

                <div id="category-gluten-free" onclick="openCategory('Gluten Free')" class="bg-background rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-32 overflow-hidden bg-gradient-to-br from-amber-100 to-yellow-100 flex items-center justify-center">
                        <i class="fa-solid fa-wheat-awn-circle-exclamation text-accent text-5xl"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Gluten Free</h3>
                        <p class="text-xs text-muted-foreground mb-3">167 recipes</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-1 rounded-full bg-muted text-xs font-medium text-foreground">Safe</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="cooking-style-categories" class="px-4 py-6">
            <h2 class="text-lg font-bold text-foreground mb-4">Cooking Styles</h2>
            <div class="space-y-3">
                <div id="category-quick-easy" onclick="openCategory('Quick & Easy')" class="bg-card rounded-2xl border border-border shadow-sm p-4 flex items-center gap-4">
                    <div class="w-16 h-16 rounded-xl bg-gradient-to-br from-red-100 to-orange-100 flex items-center justify-center flex-shrink-0">
                        <i class="fa-solid fa-fire text-destructive text-2xl"></i>
                    </div>
                    <div class="flex-1">
                        <h3 class="text-base font-bold text-foreground mb-1">Quick & Easy</h3>
                        <p class="text-xs text-muted-foreground mb-2">Ready in under 30 minutes</p>
                        <span class="text-xs font-semibold text-accent">294 recipes →</span>
                    </div>
                </div>

                <div id="category-meal-prep" onclick="openCategory('Meal Prep')" class="bg-card rounded-2xl border border-border shadow-sm p-4 flex items-center gap-4">
                    <div class="w-16 h-16 rounded-xl bg-gradient-to-br from-blue-100 to-indigo-100 flex items-center justify-center flex-shrink-0">
                        <i class="fa-solid fa-box text-blue-500 text-2xl"></i>
                    </div>
                    <div class="flex-1">
                        <h3 class="text-base font-bold text-foreground mb-1">Meal Prep</h3>
                        <p class="text-xs text-muted-foreground mb-2">Perfect for batch cooking</p>
                        <span class="text-xs font-semibold text-accent">142 recipes →</span>
                    </div>
                </div>

                <div id="category-one-pot" onclick="openCategory('One Pot')" class="bg-card rounded-2xl border border-border shadow-sm p-4 flex items-center gap-4">
                    <div class="w-16 h-16 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center flex-shrink-0">
                        <i class="fa-solid fa-pot-food text-purple-500 text-2xl"></i>
                    </div>
                    <div class="flex-1">
                        <h3 class="text-base font-bold text-foreground mb-1">One Pot Meals</h3>
                        <p class="text-xs text-muted-foreground mb-2">Minimal cleanup required</p>
                        <span class="text-xs font-semibold text-accent">178 recipes →</span>
                    </div>
                </div>

                <div id="category-slow-cooker" onclick="openCategory('Slow Cooker')" class="bg-card rounded-2xl border border-border shadow-sm p-4 flex items-center gap-4">
                    <div class="w-16 h-16 rounded-xl bg-gradient-to-br from-orange-100 to-red-100 flex items-center justify-center flex-shrink-0">
                        <i class="fa-solid fa-clock text-orange-500 text-2xl"></i>
                    </div>
                    <div class="flex-1">
                        <h3 class="text-base font-bold text-foreground mb-1">Slow Cooker</h3>
                        <p class="text-xs text-muted-foreground mb-2">Set it and forget it</p>
                        <span class="text-xs font-semibold text-accent">121 recipes →</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="cuisine-categories" class="px-4 py-6 bg-card">
            <h2 class="text-lg font-bold text-foreground mb-4">World Cuisines</h2>
            <div class="grid grid-cols-3 gap-3">
                <div id="category-italian" onclick="openCategory('Italian')" class="flex flex-col items-center gap-2">
                    <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-green-100 to-red-100 border border-border flex items-center justify-center shadow-sm">
                        <i class="fa-solid fa-pizza-slice text-red-500 text-3xl"></i>
                    </div>
                    <span class="text-xs font-semibold text-foreground text-center">Italian</span>
                    <span class="text-xs text-muted-foreground">156</span>
                </div>

                <div id="category-mexican" onclick="openCategory('Mexican')" class="flex flex-col items-center gap-2">
                    <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-yellow-100 to-orange-100 border border-border flex items-center justify-center shadow-sm">
                        <i class="fa-solid fa-pepper-hot text-red-600 text-3xl"></i>
                    </div>
                    <span class="text-xs font-semibold text-foreground text-center">Mexican</span>
                    <span class="text-xs text-muted-foreground">134</span>
                </div>

                <div id="category-asian" onclick="openCategory('Asian')" class="flex flex-col items-center gap-2">
                    <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-red-100 to-yellow-100 border border-border flex items-center justify-center shadow-sm">
                        <i class="fa-solid fa-bowl-rice text-red-500 text-3xl"></i>
                    </div>
                    <span class="text-xs font-semibold text-foreground text-center">Asian</span>
                    <span class="text-xs text-muted-foreground">198</span>
                </div>

                <div id="category-mediterranean" onclick="openCategory('Mediterranean')" class="flex flex-col items-center gap-2">
                    <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-100 to-green-100 border border-border flex items-center justify-center shadow-sm">
                        <i class="fa-solid fa-fish text-blue-500 text-3xl"></i>
                    </div>
                    <span class="text-xs font-semibold text-foreground text-center">Mediterranean</span>
                    <span class="text-xs text-muted-foreground">142</span>
                </div>

                <div id="category-indian" onclick="openCategory('Indian')" class="flex flex-col items-center gap-2">
                    <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-orange-100 to-amber-100 border border-border flex items-center justify-center shadow-sm">
                        <i class="fa-solid fa-mortar-pestle text-orange-600 text-3xl"></i>
                    </div>
                    <span class="text-xs font-semibold text-foreground text-center">Indian</span>
                    <span class="text-xs text-muted-foreground">167</span>
                </div>

                <div id="category-american" onclick="openCategory('American')" class="flex flex-col items-center gap-2">
                    <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-red-100 to-blue-100 border border-border flex items-center justify-center shadow-sm">
                        <i class="fa-solid fa-burger text-red-600 text-3xl"></i>
                    </div>
                    <span class="text-xs font-semibold text-foreground text-center">American</span>
                    <span class="text-xs text-muted-foreground">201</span>
                </div>
            </div>
        </section>

        <section id="special-categories" class="px-4 py-6">
            <h2 class="text-lg font-bold text-foreground mb-4">Special Collections</h2>
            <div class="space-y-3">
                <div id="category-high-protein" onclick="openCategory('High Protein')" class="bg-card rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-28 overflow-hidden">
                        <img class="w-full h-full object-cover" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/7d49a6f8c3-a1b2c3d4e5f6g7h8i9j0.png" alt="high protein meals with chicken salmon and eggs" />
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">High Protein</h3>
                        <p class="text-xs text-muted-foreground mb-3">Build muscle and stay full longer</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-semibold text-accent">176 recipes</span>
                            <i class="fa-solid fa-arrow-right text-accent"></i>
                        </div>
                    </div>
                </div>

                <div id="category-low-calorie" onclick="openCategory('Low Calorie')" class="bg-card rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-28 overflow-hidden">
                        <img class="w-full h-full object-cover" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/8e5ab7c9d4-b2c3d4e5f6g7h8i9j0k1.png" alt="fresh salads and light healthy meals" />
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Low Calorie</h3>
                        <p class="text-xs text-muted-foreground mb-3">Delicious meals under 400 calories</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-semibold text-accent">203 recipes</span>
                            <i class="fa-solid fa-arrow-right text-accent"></i>
                        </div>
                    </div>
                </div>

                <div id="category-kid-friendly" onclick="openCategory('Kid Friendly')" class="bg-card rounded-2xl border border-border shadow-sm overflow-hidden">
                    <div class="h-28 overflow-hidden">
                        <img class="w-full h-full object-cover" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/9f6bc8d0e5-c3d4e5f6g7h8i9j0k1l2.png" alt="fun colorful kid friendly meals and snacks" />
                    </div>
                    <div class="p-4">
                        <h3 class="text-base font-bold text-foreground mb-1">Kid Friendly</h3>
                        <p class="text-xs text-muted-foreground mb-3">Meals kids will actually eat</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-semibold text-accent">145 recipes</span>
                            <i class="fa-solid fa-arrow-right text-accent"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <nav id="bottom-nav" class="fixed bottom-0 left-0 right-0 bg-card border-t border-border">
        <div class="flex items-center justify-around py-3">
            <button class="flex flex-col items-center gap-1">
                <i class="fa-solid fa-house text-muted-foreground text-xl"></i>
                <span class="text-xs font-medium text-muted-foreground">Home</span>
            </button>
            <button class="flex flex-col items-center gap-1">
                <i class="fa-solid fa-compass text-primary text-xl"></i>
                <span class="text-xs font-medium text-primary">Explore</span>
            </button>
            <button class="flex flex-col items-center gap-1">
                <i class="fa-regular fa-bookmark text-muted-foreground text-xl"></i>
                <span class="text-xs font-medium text-muted-foreground">Saved</span>
            </button>
            <button class="flex flex-col items-center gap-1">
                <i class="fa-regular fa-user text-muted-foreground text-xl"></i>
                <span class="text-xs font-medium text-muted-foreground">Profile</span>
            </button>
        </div>
    </nav>

    <div id="recipe-popup" class="recipe-popup">
        <div class="w-full max-w-md mx-auto bg-background min-h-screen">
            <div class="sticky top-0 bg-card border-b border-border z-10">
                <div class="px-4 py-3 flex items-center justify-between">
                    <button onclick="closeRecipe()" class="w-10 h-10 rounded-full bg-muted flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-foreground"></i>
                    </button>
                    <h2 class="text-lg font-bold text-foreground" id="popup-title">Recipe Details</h2>
                    <button class="w-10 h-10 rounded-full bg-muted flex items-center justify-center">
                        <i class="fa-regular fa-heart text-foreground"></i>
                    </button>
                </div>
            </div>

            <div id="popup-content" class="pb-6">
                <div class="h-64 overflow-hidden">
                    <img class="w-full h-full object-cover" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/54e05962d4-2afd8049f1d7b40efe39.png" alt="delicious food photography" />
                </div>

                <div class="px-4 py-5">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h1 class="text-2xl font-bold text-foreground mb-2" id="popup-recipe-name">Recipe Name</h1>
                            <div class="flex items-center gap-4">
                                <div class="flex items-center gap-1.5">
                                    <i class="fa-regular fa-clock text-muted-foreground"></i>
                                    <span class="text-sm text-muted-foreground" id="popup-time">15 min</span>
                                </div>
                                <div class="flex items-center gap-1.5">
                                    <i class="fa-solid fa-fire text-accent"></i>
                                    <span class="text-sm text-muted-foreground" id="popup-calories">250 kcal</span>
                                </div>
                                <div class="flex items-center gap-1.5">
                                    <i class="fa-solid fa-star text-primary"></i>
                                    <span class="text-sm font-semibold text-foreground" id="popup-rating">4.8</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center gap-2 mb-6">
                        <button class="flex-1 py-3 rounded-xl bg-muted text-foreground text-sm font-medium flex items-center justify-center gap-2">
                            <i class="fa-regular fa-bookmark"></i>
                            Save to Plate
                        </button>
                        <button class="flex-1 py-3 rounded-xl bg-primary text-primary-foreground text-sm font-medium flex items-center justify-center gap-2">
                            <i class="fa-regular fa-paper-plane"></i>
                            Send to Friend
                        </button>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-foreground mb-3">Ingredients</h3>
                        <div class="bg-card rounded-2xl border border-border p-4 space-y-3">
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-primary"></div>
                                <span class="text-sm text-foreground">2 ripe avocados</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-primary"></div>
                                <span class="text-sm text-foreground">4 slices whole grain bread</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-primary"></div>
                                <span class="text-sm text-foreground">2 eggs</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-primary"></div>
                                <span class="text-sm text-foreground">1 lemon (juice)</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-primary"></div>
                                <span class="text-sm text-foreground">Salt and pepper to taste</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-primary"></div>
                                <span class="text-sm text-foreground">Red pepper flakes (optional)</span>
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-foreground mb-3">Instructions</h3>
                        <div class="bg-card rounded-2xl border border-border p-4 space-y-4">
                            <div class="flex gap-3">
                                <div class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">1</div>
                                <p class="text-sm text-foreground pt-0.5">Toast the bread slices until golden brown and crispy.</p>
                            </div>
                            <div class="flex gap-3">
                                <div class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">2</div>
                                <p class="text-sm text-foreground pt-0.5">Mash avocados in a bowl with lemon juice, salt, and pepper.</p>
                            </div>
                            <div class="flex gap-3">
                                <div class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">3</div>
                                <p class="text-sm text-foreground pt-0.5">Poach eggs in simmering water for 3-4 minutes.</p>
                            </div>
                            <div class="flex gap-3">
                                <div class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">4</div>
                                <p class="text-sm text-foreground pt-0.5">Spread avocado mixture on toast and top with poached egg.</p>
                            </div>
                            <div class="flex gap-3">
                                <div class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">5</div>
                                <p class="text-sm text-foreground pt-0.5">Garnish with red pepper flakes and serve immediately.</p>
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-foreground mb-3">Nutritional Information</h3>
                        <div class="bg-card rounded-2xl border border-border p-4">
                            <div id="nutrition-chart" style="height: 280px;"></div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-foreground mb-3">Macronutrients Breakdown</h3>
                        <div class="bg-card rounded-2xl border border-border p-4">
                            <div id="macro-chart" style="height: 280px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function openCategory(categoryName) {
            alert('Opening ' + categoryName + ' category with filtered recipes');
        }

        function openRecipe(name, time, calories, rating) {
            document.getElementById('popup-recipe-name').textContent = name;
            document.getElementById('popup-time').textContent = time;
            document.getElementById('popup-calories').textContent = calories;
            document.getElementById('popup-rating').textContent = rating;
            document.getElementById('recipe-popup').classList.add('active');
            document.body.style.overflow = 'hidden';
            
            setTimeout(() => {
                renderNutritionChart();
                renderMacroChart();
            }, 100);
        }

        function closeRecipe() {
            document.getElementById('recipe-popup').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        window.addEventListener('load', function() {
            try {
                function renderNutritionChart() {
                    const data = [{
                        type: 'bar',
                        x: ['Protein', 'Carbs', 'Fat', 'Fiber', 'Sugar'],
                        y: [12, 28, 15, 8, 5],
                        marker: {
                            color: ['#FFD500', '#f59e0b', '#64748b', '#10b981', '#ef4444']
                        }
                    }];

                    const layout = {
                        title: { text: 'Nutrients (g)', font: { size: 14 } },
                        xaxis: { title: '' },
                        yaxis: { title: 'Grams' },
                        margin: { t: 40, r: 20, b: 40, l: 50 },
                        plot_bgcolor: '#FAFAFA',
                        paper_bgcolor: '#FAFAFA',
                        showlegend: false
                    };

                    const config = {
                        responsive: true,
                        displayModeBar: false,
                        displaylogo: false
                    };

                    Plotly.newPlot('nutrition-chart', data, layout, config);
                }

                function renderMacroChart() {
                    const data = [{
                        type: 'pie',
                        labels: ['Protein', 'Carbohydrates', 'Fats'],
                        values: [20, 45, 35],
                        marker: {
                            colors: ['#FFD500', '#f59e0b', '#64748b']
                        },
                        textinfo: 'label+percent',
                        textposition: 'inside'
                    }];

                    const layout = {
                        title: { text: 'Macros Distribution', font: { size: 14 } },
                        margin: { t: 40, r: 20, b: 20, l: 20 },
                        plot_bgcolor: '#FAFAFA',
                        paper_bgcolor: '#FAFAFA',
                        showlegend: true,
                        legend: { orientation: 'h', y: -0.1 }
                    };

                    const config = {
                        responsive: true,
                        displayModeBar: false,
                        displaylogo: false
                    };

                    Plotly.newPlot('macro-chart', data, layout, config);
                }

                window.renderNutritionChart = renderNutritionChart;
                window.renderMacroChart = renderMacroChart;
            } catch(e) {
                console.error('Chart rendering error:', e);
            }
        });
    </script>

</body>
</html>