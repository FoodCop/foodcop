<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trims</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>::-webkit-scrollbar { display: none;}</style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FFD500',
                        orange: '#FF6B35',
                        darkText: '#1A1A1A',
                        mutedText: '#666666'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-[#FAFAFA]">
    <div id="trims-page" class="min-h-screen pb-20">
        <div id="search-header" class="sticky top-0 z-30 bg-white shadow-sm px-4 py-3">
            <div class="relative">
                <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-mutedText text-sm"></i>
                <input 
                    type="text" 
                    id="searchInput"
                    placeholder="Search cooking videos..." 
                    class="w-full h-12 pl-11 pr-4 bg-white border border-[#EEE] rounded-xl text-sm text-darkText focus:outline-none focus:border-orange"
                >
            </div>
        </div>

        <div id="category-filter" class="sticky top-[72px] z-20 bg-white border-b border-[#EEE] px-4 py-3 overflow-x-auto">
            <div class="flex gap-2 w-max">
                <button class="category-pill active px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-orange text-white" data-category="all">
                    All
                </button>
                <button class="category-pill px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-gray-100 text-gray-700" data-category="Quick Bites">
                    Quick Bites
                </button>
                <button class="category-pill px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-gray-100 text-gray-700" data-category="Desserts">
                    Desserts
                </button>
                <button class="category-pill px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-gray-100 text-gray-700" data-category="Healthy">
                    Healthy
                </button>
                <button class="category-pill px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-gray-100 text-gray-700" data-category="Asian">
                    Asian
                </button>
                <button class="category-pill px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-gray-100 text-gray-700" data-category="Italian">
                    Italian
                </button>
                <button class="category-pill px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-gray-100 text-gray-700" data-category="Mexican">
                    Mexican
                </button>
                <button class="category-pill px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-gray-100 text-gray-700" data-category="Breakfast">
                    Breakfast
                </button>
                <button class="category-pill px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap bg-gray-100 text-gray-700" data-category="Vegan">
                    Vegan
                </button>
            </div>
        </div>

        <div id="loading-state" class="hidden flex-col items-center justify-center py-20">
            <div class="w-12 h-12 border-4 border-orange border-t-transparent rounded-full animate-spin"></div>
            <p class="mt-4 text-mutedText text-sm">Loading videos...</p>
        </div>

        <div id="error-state" class="hidden flex-col items-center justify-center py-20 px-6">
            <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4">
                <i class="fa-solid fa-exclamation-triangle text-red-500 text-2xl"></i>
            </div>
            <h3 class="text-darkText font-bold text-lg mb-2">Failed to load videos</h3>
            <p class="text-mutedText text-sm text-center mb-6">Something went wrong. Please try again.</p>
            <button id="retryBtn" class="px-6 py-3 bg-orange text-white rounded-xl font-medium">
                Try Again
            </button>
        </div>

        <div id="empty-state" class="hidden flex-col items-center justify-center py-20 px-6">
            <div class="w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-4">
                <i class="fa-solid fa-video text-gray-400 text-2xl"></i>
            </div>
            <h3 class="text-darkText font-bold text-lg mb-2">No videos found</h3>
            <p class="text-mutedText text-sm text-center">Try adjusting your search or category</p>
        </div>

        <div id="video-grid" class="grid grid-cols-2 gap-[3px] p-[3px]">
        </div>
    </div>

    <div id="video-modal" class="hidden fixed inset-0 z-50 bg-black bg-opacity-75 items-center justify-center p-4">
        <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto relative">
            <button id="closeModal" class="absolute top-4 right-4 z-10 w-10 h-10 bg-black bg-opacity-50 rounded-full flex items-center justify-center text-white hover:bg-opacity-70">
                <i class="fa-solid fa-xmark text-xl"></i>
            </button>
            
            <div id="videoPlayerContainer" class="relative w-full" style="padding-bottom: 177.78%; background: #000;">
                <iframe 
                    id="videoPlayer"
                    class="absolute top-0 left-0 w-full h-full"
                    src=""
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                ></iframe>
            </div>
            
            <div id="videoInfo" class="p-5">
                <h2 id="modalVideoTitle" class="text-darkText font-bold text-lg mb-2"></h2>
                <div class="flex items-center gap-3 mb-1">
                    <p id="modalChannelName" class="text-mutedText text-sm"></p>
                </div>
                <p id="modalViewCount" class="text-mutedText text-xs mb-5"></p>
                
                <div class="flex gap-3">
                    <button id="saveToPlateBtn" class="flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-orange text-white rounded-xl font-medium">
                        <i class="fa-solid fa-bookmark"></i>
                        Save to Plate
                    </button>
                    <button id="shareWithCrewBtn" class="flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 text-darkText rounded-xl font-medium">
                        <i class="fa-solid fa-paper-plane"></i>
                        Share
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="toast" class="hidden fixed bottom-24 left-1/2 -translate-x-1/2 z-50 px-6 py-3 rounded-xl text-white text-sm font-medium shadow-lg"></div>

    <script>
        const mockVideos = [
            {
                id: 'v1',
                title: '5-Minute Avocado Toast Hack',
                channel: 'QuickBites Kitchen',
                views: '1.2M',
                duration: '0:45',
                category: 'Quick Bites',
                thumbnail: 'https://images.unsplash.com/photo-1541519227354-08fa5d50c44d?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v2',
                title: 'Chocolate Lava Cake in 3 Steps',
                channel: 'Sweet Moments',
                views: '890K',
                duration: '1:23',
                category: 'Desserts',
                thumbnail: 'https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v3',
                title: 'Buddha Bowl Meal Prep',
                channel: 'Healthy Eats',
                views: '2.1M',
                duration: '2:15',
                category: 'Healthy',
                thumbnail: 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v4',
                title: 'Perfect Pad Thai Tutorial',
                channel: 'Asian Flavors',
                views: '1.5M',
                duration: '3:20',
                category: 'Asian',
                thumbnail: 'https://images.unsplash.com/photo-1559314809-0d155014e29e?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v5',
                title: 'Homemade Pasta from Scratch',
                channel: 'Italian Traditions',
                views: '3.2M',
                duration: '4:10',
                category: 'Italian',
                thumbnail: 'https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v6',
                title: 'Street Tacos Like a Pro',
                channel: 'Taco Tuesday',
                views: '670K',
                duration: '1:55',
                category: 'Mexican',
                thumbnail: 'https://images.unsplash.com/photo-1565299585323-38d6b0865b47?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v7',
                title: 'Fluffy Pancakes Every Time',
                channel: 'Breakfast Club',
                views: '1.8M',
                duration: '2:30',
                category: 'Breakfast',
                thumbnail: 'https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v8',
                title: 'Vegan Burger That Tastes Like Beef',
                channel: 'Plant Based',
                views: '920K',
                duration: '2:45',
                category: 'Vegan',
                thumbnail: 'https://images.unsplash.com/photo-1520072959219-c595dc870360?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v9',
                title: 'Crispy Air Fryer Wings',
                channel: 'QuickBites Kitchen',
                views: '1.1M',
                duration: '1:40',
                category: 'Quick Bites',
                thumbnail: 'https://images.unsplash.com/photo-1608039829572-78524f79c4c7?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v10',
                title: 'No-Bake Cheesecake Magic',
                channel: 'Sweet Moments',
                views: '2.4M',
                duration: '3:05',
                category: 'Desserts',
                thumbnail: 'https://images.unsplash.com/photo-1524351199678-941a58a3df50?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v11',
                title: 'Green Smoothie Bowl',
                channel: 'Healthy Eats',
                views: '780K',
                duration: '1:15',
                category: 'Healthy',
                thumbnail: 'https://images.unsplash.com/photo-1590301157890-4810ed352733?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v12',
                title: 'Authentic Ramen Bowl',
                channel: 'Asian Flavors',
                views: '1.9M',
                duration: '4:30',
                category: 'Asian',
                thumbnail: 'https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v13',
                title: 'Margherita Pizza Perfection',
                channel: 'Italian Traditions',
                views: '2.7M',
                duration: '3:45',
                category: 'Italian',
                thumbnail: 'https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v14',
                title: 'Breakfast Burrito Meal Prep',
                channel: 'Breakfast Club',
                views: '1.3M',
                duration: '2:20',
                category: 'Breakfast',
                thumbnail: 'https://images.unsplash.com/photo-1626700051175-6818013e1d4f?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            },
            {
                id: 'v15',
                title: 'Vegan Mac & Cheese',
                channel: 'Plant Based',
                views: '1.6M',
                duration: '2:50',
                category: 'Vegan',
                thumbnail: 'https://images.unsplash.com/photo-1543826173-3fd3e91bdb5c?w=400&h=711&fit=crop',
                videoId: 'dQw4w9WgXcQ'
            }
        ];

        let filteredVideos = [...mockVideos];
        let currentCategory = 'all';
        let searchQuery = '';
        let currentVideo = null;
        let isAuthenticated = false;

        function renderVideos(videos) {
            const grid = document.getElementById('video-grid');
            const emptyState = document.getElementById('empty-state');
            
            if (videos.length === 0) {
                grid.classList.add('hidden');
                emptyState.classList.remove('hidden');
                emptyState.classList.add('flex');
                return;
            }
            
            grid.classList.remove('hidden');
            emptyState.classList.add('hidden');
            emptyState.classList.remove('flex');
            
            grid.innerHTML = videos.map(video => `
                <div class="video-card bg-white rounded-lg overflow-hidden shadow-sm cursor-pointer" data-video-id="${video.id}">
                    <div class="relative" style="padding-bottom: 177.78%;">
                        <img src="${video.thumbnail}" alt="${video.title}" class="absolute inset-0 w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                        
                        <div class="absolute top-2 right-2 flex flex-col gap-2">
                            <button class="bookmark-btn w-8 h-8 bg-black bg-opacity-50 rounded-full flex items-center justify-center text-white hover:bg-opacity-70" onclick="event.stopPropagation(); handleBookmark('${video.id}')">
                                <i class="fa-solid fa-bookmark text-xs"></i>
                            </button>
                            <button class="share-btn w-8 h-8 bg-black bg-opacity-50 rounded-full flex items-center justify-center text-white hover:bg-opacity-70" onclick="event.stopPropagation(); handleShare('${video.id}')">
                                <i class="fa-solid fa-share-nodes text-xs"></i>
                            </button>
                        </div>
                        
                        <div class="play-overlay absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity">
                            <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-lg">
                                <i class="fa-solid fa-play text-orange text-lg ml-1"></i>
                            </div>
                        </div>
                        
                        <div class="absolute bottom-2 right-2">
                            <span class="px-2 py-1 bg-black bg-opacity-70 text-white text-xs rounded font-medium">${video.duration}</span>
                        </div>
                    </div>
                    
                    <div class="p-3">
                        <h3 class="text-darkText font-medium text-sm line-clamp-2 mb-1">${video.title}</h3>
                        <p class="text-mutedText text-xs">${video.channel}</p>
                        <p class="text-mutedText text-xs">${video.views} views</p>
                    </div>
                </div>
            `).join('');
            
            document.querySelectorAll('.video-card').forEach(card => {
                card.addEventListener('click', function() {
                    const videoId = this.dataset.videoId;
                    openVideoModal(videoId);
                });
            });
        }

        function filterVideos() {
            filteredVideos = mockVideos.filter(video => {
                const matchesCategory = currentCategory === 'all' || video.category === currentCategory;
                const matchesSearch = searchQuery === '' || 
                    video.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    video.channel.toLowerCase().includes(searchQuery.toLowerCase());
                return matchesCategory && matchesSearch;
            });
            renderVideos(filteredVideos);
        }

        document.querySelectorAll('.category-pill').forEach(pill => {
            pill.addEventListener('click', function() {
                document.querySelectorAll('.category-pill').forEach(p => {
                    p.classList.remove('active', 'bg-orange', 'text-white');
                    p.classList.add('bg-gray-100', 'text-gray-700');
                });
                
                this.classList.add('active', 'bg-orange', 'text-white');
                this.classList.remove('bg-gray-100', 'text-gray-700');
                
                currentCategory = this.dataset.category;
                filterVideos();
            });
        });

        let searchTimeout;
        document.getElementById('searchInput').addEventListener('input', function(e) {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                searchQuery = e.target.value;
                filterVideos();
            }, 500);
        });

        function openVideoModal(videoId) {
            currentVideo = mockVideos.find(v => v.id === videoId);
            if (!currentVideo) return;
            
            const modal = document.getElementById('video-modal');
            const player = document.getElementById('videoPlayer');
            
            player.src = `https://www.youtube.com/embed/${currentVideo.videoId}?autoplay=1`;
            document.getElementById('modalVideoTitle').textContent = currentVideo.title;
            document.getElementById('modalChannelName').textContent = currentVideo.channel;
            document.getElementById('modalViewCount').textContent = `${currentVideo.views} views`;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function closeVideoModal() {
            const modal = document.getElementById('video-modal');
            const player = document.getElementById('videoPlayer');
            
            player.src = '';
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.body.style.overflow = 'auto';
            currentVideo = null;
        }

        document.getElementById('closeModal').addEventListener('click', closeVideoModal);
        
        document.getElementById('video-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeVideoModal();
            }
        });

        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            
            toast.classList.remove('bg-orange', 'bg-red-500', 'bg-gray-800');
            if (type === 'success') {
                toast.classList.add('bg-orange');
            } else if (type === 'error') {
                toast.classList.add('bg-red-500');
            } else {
                toast.classList.add('bg-gray-800');
            }
            
            toast.classList.remove('hidden');
            
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }

        function handleBookmark(videoId) {
            if (!isAuthenticated) {
                showToast('Please sign in to save videos', 'error');
                return;
            }
            showToast('Video saved to Plate!', 'success');
        }

        function handleShare(videoId) {
            showToast('Share feature coming soon!', 'info');
        }

        document.getElementById('saveToPlateBtn').addEventListener('click', function() {
            if (!currentVideo) return;
            handleBookmark(currentVideo.id);
        });

        document.getElementById('shareWithCrewBtn').addEventListener('click', function() {
            if (!currentVideo) return;
            handleShare(currentVideo.id);
        });

        document.getElementById('retryBtn').addEventListener('click', function() {
            document.getElementById('error-state').classList.add('hidden');
            renderVideos(filteredVideos);
        });

        renderVideos(filteredVideos);
    </script>
</body>
</html>