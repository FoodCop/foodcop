<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radial Menu</title>
    <script src='https://cdn.tailwindcss.com'></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "var(--border)",
                        input: "var(--input)",
                        ring: "var(--ring)",
                        background: "var(--background)",
                        foreground: "var(--foreground)",
                        primary: {
                            DEFAULT: "var(--primary)",
                            foreground: "var(--primary-foreground)",
                        },
                        secondary: {
                            DEFAULT: "var(--secondary)",
                            foreground: "var(--secondary-foreground)",
                        },
                        destructive: {
                            DEFAULT: "var(--destructive)",
                            foreground: "var(--destructive-foreground)",
                        },
                        muted: {
                            DEFAULT: "var(--muted)",
                            foreground: "var(--muted-foreground)",
                        },
                        accent: {
                            DEFAULT: "var(--accent)",
                            foreground: "var(--accent-foreground)",
                        },
                        popover: {
                            DEFAULT: "var(--popover)",
                            foreground: "var(--popover-foreground)",
                        },
                        card: {
                            DEFAULT: "var(--card)",
                            foreground: "var(--card-foreground)",
                        },
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                    fontFamily: {
                        sans: ["var(--font-sans)"],
                    },
                },
            }
        }
    </script>
    <script>window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --background: #FAFAFA;
            --foreground: #0f172a;
            --card: #ffffff;
            --card-foreground: #0f172a;
            --primary: #FFD500;
            --primary-foreground: #8A8A8A;
            --secondary: #64748b;
            --secondary-foreground: #ffffff;
            --muted: #FAFAFA;
            --muted-foreground: #0f172a;
            --accent: #f59e0b;
            --accent-foreground: #ffffff;
            --border: #EEE;
            --font-sans: Be Vietnam Pro;
            --radius: 10px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-sans);
            background: var(--background);
            color: var(--foreground);
            overflow: hidden;
            touch-action: pan-y;
        }
        
        ::-webkit-scrollbar { display: none;}
        
        .barrel-container {
            position: relative;
            width: 280px;
            height: 280px;
            transition: opacity 0.3s ease;
        }
        
        .barrel-item {
            position: absolute;
            width: 56px;
            height: 56px;
            top: 50%;
            left: 50%;
            margin: -28px 0 0 -28px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translate(0, 0) scale(0);
            pointer-events: none;
        }
        
        .barrel-container.expanded .barrel-item {
            opacity: 1;
            transform: translate(var(--x), var(--y)) scale(1);
            pointer-events: all;
        }
        
        .barrel-item button {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .barrel-item button:active {
            transform: scale(0.9);
        }
        
        .barrel-item.selected button {
            background: #FF6B35;
            color: white;
            border-color: #FF6B35;
        }
        
        .center-button {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 64px;
            height: 64px;
            margin: -32px 0 0 -32px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--border);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
            cursor: pointer;
        }
        
        .center-button:active {
            transform: scale(0.95);
        }
        
        .center-button i {
            transition: transform 0.3s ease;
        }
        
        .barrel-container.expanded .center-button i {
            transform: rotate(90deg);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center bg-background">
    
    <div id="mobile-screen" class="relative w-full max-w-md h-screen bg-white shadow-2xl overflow-hidden">
        
        <div id="demo-content" class="h-full flex flex-col items-center justify-center p-8 text-center">
            <div class="mb-6">
                <i class="fas fa-mobile-alt text-6xl text-secondary opacity-20"></i>
            </div>
            <h1 class="text-2xl font-bold text-foreground mb-2">Radial Menu Demo</h1>
            <p class="text-muted-foreground mb-4">Swipe around the barrel to navigate</p>
            <div id="current-page" class="inline-block px-6 py-3 bg-muted rounded-lg">
                <span class="text-sm font-medium text-foreground">Current: </span>
                <span id="page-name" class="text-sm font-bold text-accent">Feed</span>
            </div>
        </div>
        
        <div id="radial-menu-container" class="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50">
            <div class="barrel-container" id="barrel-container">
                <div class="barrel-item selected" data-route="feed" data-label="Feed">
                    <button><i class="fas fa-rss text-lg"></i></button>
                </div>
                <div class="barrel-item" data-route="scout" data-label="Scout">
                    <button><i class="fas fa-search text-lg"></i></button>
                </div>
                <div class="barrel-item" data-route="snap" data-label="Snap">
                    <button><i class="fas fa-camera text-lg"></i></button>
                </div>
                <div class="barrel-item" data-route="bites" data-label="Bites">
                    <button><i class="fas fa-pizza-slice text-lg"></i></button>
                </div>
                <div class="barrel-item" data-route="trims" data-label="Trims">
                    <button><i class="fas fa-cut text-lg"></i></button>
                </div>
                <div class="barrel-item" data-route="plate" data-label="Plate">
                    <button><i class="fas fa-utensils text-lg"></i></button>
                </div>
                <div class="barrel-item" data-route="chat" data-label="Chat">
                    <button><i class="fas fa-comment-dots text-lg"></i></button>
                </div>
                <div class="barrel-item" data-route="dash" data-label="Dash">
                    <button><i class="fas fa-th-large text-lg"></i></button>
                </div>
                
                <button class="center-button" id="center-button">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        const menuItems = [
            { route: 'feed', label: 'Feed' },
            { route: 'scout', label: 'Scout' },
            { route: 'snap', label: 'Snap' },
            { route: 'bites', label: 'Bites' },
            { route: 'trims', label: 'Trims' },
            { route: 'plate', label: 'Plate' },
            { route: 'chat', label: 'Chat' },
            { route: 'dash', label: 'Dash' }
        ];
        
        let currentRotation = 0;
        let currentIndex = 0;
        let isDragging = false;
        let startAngle = 0;
        let lastAngle = 0;
        let isExpanded = false;
        
        const barrel = document.getElementById('barrel-container');
        const centerButton = document.getElementById('center-button');
        const items = document.querySelectorAll('.barrel-item');
        const pageName = document.getElementById('page-name');
        const radius = 100;
        
        function updatePositions() {
            const angleStep = (Math.PI * 2) / menuItems.length;
            
            items.forEach((item, index) => {
                const angle = currentRotation + (index * angleStep) - Math.PI / 2;
                const x = Math.cos(angle) * radius;
                const y = Math.sin(angle) * radius;
                
                item.style.setProperty('--x', `${x}px`);
                item.style.setProperty('--y', `${y}px`);
            });
        }
        
        function getAngle(e) {
            const rect = barrel.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const x = (e.touches ? e.touches[0].clientX : e.clientX) - centerX;
            const y = (e.touches ? e.touches[0].clientY : e.clientY) - centerY;
            return Math.atan2(y, x);
        }
        
        function getDistanceFromCenter(e) {
            const rect = barrel.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const x = (e.touches ? e.touches[0].clientX : e.clientX) - centerX;
            const y = (e.touches ? e.touches[0].clientY : e.clientY) - centerY;
            return Math.sqrt(x * x + y * y);
        }
        
        function snapToNearest() {
            const angleStep = (Math.PI * 2) / menuItems.length;
            const normalizedRotation = ((currentRotation % (Math.PI * 2)) + (Math.PI * 2)) % (Math.PI * 2);
            const nearestIndex = Math.round(normalizedRotation / angleStep) % menuItems.length;
            currentIndex = (menuItems.length - nearestIndex) % menuItems.length;
            currentRotation = nearestIndex * angleStep;
            
            updatePositions();
            updateSelection();
        }
        
        function updateSelection() {
            items.forEach((item, index) => {
                item.classList.toggle('selected', index === currentIndex);
            });
            pageName.textContent = menuItems[currentIndex].label;
        }
        
        centerButton.addEventListener('click', (e) => {
            e.stopPropagation();
            isExpanded = !isExpanded;
            barrel.classList.toggle('expanded', isExpanded);
        });
        
        barrel.addEventListener('mousedown', (e) => {
            if (!isExpanded) return;
            const distance = getDistanceFromCenter(e);
            if (distance < 40) return;
            
            isDragging = true;
            startAngle = getAngle(e);
            lastAngle = startAngle;
            e.preventDefault();
        });
        
        barrel.addEventListener('touchstart', (e) => {
            if (!isExpanded) return;
            const distance = getDistanceFromCenter(e);
            if (distance < 40) return;
            
            isDragging = true;
            startAngle = getAngle(e);
            lastAngle = startAngle;
        });
        
        window.addEventListener('mousemove', (e) => {
            if (!isDragging || !isExpanded) return;
            const currentAngle = getAngle(e);
            const delta = currentAngle - lastAngle;
            currentRotation += delta;
            lastAngle = currentAngle;
            updatePositions();
        });
        
        window.addEventListener('touchmove', (e) => {
            if (!isDragging || !isExpanded) return;
            const currentAngle = getAngle(e);
            const delta = currentAngle - lastAngle;
            currentRotation += delta;
            lastAngle = currentAngle;
            updatePositions();
        });
        
        window.addEventListener('mouseup', () => {
            if (isDragging) {
                isDragging = false;
                snapToNearest();
            }
        });
        
        window.addEventListener('touchend', () => {
            if (isDragging) {
                isDragging = false;
                snapToNearest();
            }
        });
        
        items.forEach((item, index) => {
            item.querySelector('button').addEventListener('click', (e) => {
                if (!isExpanded) return;
                e.stopPropagation();
                currentIndex = index;
                const angleStep = (Math.PI * 2) / menuItems.length;
                currentRotation = (menuItems.length - index) * angleStep;
                updatePositions();
                updateSelection();
            });
        });
        
        updatePositions();
        updateSelection();
    </script>

</body>
</html>